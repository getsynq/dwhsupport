
[TestMetricsSuite/TestMultiMetricValues - 1]
select
  coalesce(workspace, '') as segment, 
  coalesce(run_type, '') as segment_2, 
  toInt64(count(workspace)) as workspace$num_not_null, 
  toInt64(count(distinct workspace)) as workspace$num_unique, 
  coalesce(toInt64(countIf(workspace = '')), 0) as workspace$num_empty, 
  toInt64(count(run_type)) as run_type$num_not_null, 
  toInt64(count(distinct run_type)) as run_type$num_unique, 
  coalesce(toInt64(countIf(run_type = 0)), 0) as run_type$num_empty, 
  toFloat64(coalesce(avg(run_type), 0)) as run_type$mean, 
  toFloat64(coalesce(min(run_type), 0)) as run_type$min, 
  toFloat64(coalesce(max(run_type), 0)) as run_type$max, 
  toFloat64(coalesce(median(run_type), 0)) as run_type$median, 
  toFloat64(coalesce(stddevSamp(run_type), 0)) as run_type$stddev
from default.runs 

group by
  segment, 
  segment_2
order by
  segment, 
  segment_2 
---
